<ol *ngIf="tasks else loading">
  <li *ngFor="let task of tasks" [class]="points ? 'text-' + (task | taskColor:points[task._id]) : undefined">
    {{task.description}}
    <span class="badge bg-{{task | taskColor:points?.[task._id]}}">
      <ng-container *ngIf="points">{{points[task._id]}} / </ng-container>
      {{task.points}}
    </span>
    <a
      *ngIf="evaluations"
      [class.text-primary]="!evaluations[task._id]"
      [class.text-secondary]="evaluations[task._id]"
      [routerLink]="[task._id]"
      (click)="openTelemetry(task)"
    >
      {{ evaluations[task._id] ? '&check; Graded by ' + evaluations[task._id].author : 'Grade' }}
    </a>
    <app-task-list
      *ngIf="task.children.length"
      [tasks]="task.children"
      [evaluations]="evaluations"
      [points]="points"
    ></app-task-list>
  </li>
</ol>
<ng-template #loading>
  Loading Tasks...
</ng-template>
