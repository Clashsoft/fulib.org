<div class="container">
  <div class="form">
    <div class="form-group">
      <label for="searchArea">Search for Code Snippet</label>
      <textarea class="form-control text-monospace" id="searchArea"
                [ngModel]="search$.value" (ngModelChange)="search$.next($event)"
      ></textarea>
    </div>
  </div>
  <ul class="list-group">
    <li *ngFor="let result of results" class="list-group-item">
      <h4>
        <ng-container *ngIf="solutions[result.solution] as solution">
          <a [routerLink]="['../solutions', solution._id]">
            Solution
          </a>
          by
          {{ solution.author.name || solution.author.github }}
        </ng-container>
        <span class="text-muted">
          {{ result.snippets.length }} Results
        </span>
      </h4>
      <ul class="list-group">
        <li *ngFor="let snippet of result.snippets" class="list-group-item">
          <h6>
            {{ snippet.file }} lines {{ snippet.from.line - 1 }} to {{ snippet.to.line + 3 }}:
          </h6>
          <div class="markdown" *ngIf="snippet.file.substring(snippet.file.lastIndexOf('.') + 1) as lang">
            <pre><code class="hljs language-{{lang}}" [lang]="lang">{{snippet.context}}</code></pre>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>
