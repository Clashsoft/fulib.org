<div class="d-flex h-100">
  <div class="sidebar">
    <div *ngFor="let entry of sidebarItems | keyvalue"
         class="sidebar-item"
         [ngbTooltip]="entry.value.name" placement="right"
         [class.active]="active == entry.key"
         (click)="active = active == entry.key ? undefined : entry.key"
    >
      <img class="icon" src="assets/icons/{{entry.value.icon}}.svg" width="24" [alt]="entry.value.name">
    </div>
  </div>
  <div class="flex-grow-1 content cols h-100">
    <rsz-layout *ngIf="active" class="row no-gutters" [directions]="['right']" [rFlex]="true">
      <rsz-layout class="cell" [directions]="['none']" [rFlex]="false">
        <ng-container *ngComponentOutlet="sidebarItems[active]?.component; injector: injector"></ng-container>
      </rsz-layout>
    </rsz-layout>
    <rsz-layout class="row no-gutters" [directions]="['none']" [rFlex]="false">
      <rsz-layout class="cell" [directions]="['bottom']" [rFlex]="true">
        <app-file-tabs #fileTabs></app-file-tabs>
      </rsz-layout>
      <rsz-layout class="cell" [directions]="['none']" [rFlex]="false">
        <ng-container *ngComponentOutlet="terminalComponent; injector: injector"></ng-container>
      </rsz-layout>
    </rsz-layout>
  </div>
</div>
