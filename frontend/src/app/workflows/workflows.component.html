<div class="h-100 d-flex flex-column">
  <div class="btn-toolbar mb-3 mx-2" role="toolbar" aria-label="Toolbar">
    <div ngbDropdown>
      <button class="btn btn-primary m-1" id="exampleSelection"
              ngbDropdownToggle [disabled]="loading">{{currentExampleDesc}}</button>
      <div ngbDropdownMenu aria-labelledby="exampleSelection">
        <ng-container *ngFor="let example of examplesList; index as i">
          <button ngbDropdownItem (click)="changeExampleContent(i)">{{example}}</button>
        </ng-container>
      </div>
    </div>

    <button class="btn btn-primary m-1" (click)="generate()" [disabled]="loading">
      <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      {{ loading ? 'Generating...' : 'Generate' }}
    </button>

    <a role="button" class="btn btn-success m-1" routerLink="download">
      Configure and Download
    </a>
  </div>

  <!-- Main Content Area -->
  <div class="flex-grow-1">
    <as-split #split
              direction="horizontal"
              (dragStart)="dragStartHandler()"
              (dragEnd)="dragEndHandler()"
              (gutterClick)="splitGutterClick($event)">
      <as-split-area [size]="30">
        <app-autotheme-codemirror [(content)]="content" [options]="codemirrorOptions"></app-autotheme-codemirror>
      </as-split-area>

      <as-split-area [size]="70">
        <as-split
          direction="vertical"
          (dragStart)="dragStartHandler()"
          (dragEnd)="dragEndHandler()"
          (gutterClick)="splitGutterClick($event)">
          <as-split-area [size]="35">
            <div class="h-100">
              <iframe *ngIf="generateResult" title="Boards" [srcdoc]="generateResult.board | safeHtml"
                      class="w-100 h-100">
              </iframe>
              <div [hidden]="showIframeHider === false" class="iframe-hider"></div>
            </div>
          </as-split-area>
          <as-split-area [size]="65">
            <div class="h-100">
              <app-mockup-viewer [generateResult]="generateResult"
                                 [index]="newPageIndex"
                                 [currentDisplay]="currentDisplay"></app-mockup-viewer>
              <div [hidden]="showIframeHider === false" class="iframe-hider"></div>
            </div>
          </as-split-area>
        </as-split>
      </as-split-area>
    </as-split>
  </div>
</div>
